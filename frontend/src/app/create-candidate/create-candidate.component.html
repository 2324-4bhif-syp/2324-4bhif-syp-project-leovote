<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<h2>Candidates</h2>

<table>
  <tr>
    <th>
      <div class="candidate-creation-container">
        <div class="input">
          <input [(ngModel)]="this.candidate.schoolId" placeholder="School ID"/>
        </div>
        <div class="input">
          <input [(ngModel)]="this.candidate.firstName" placeholder="First Name"/>
        </div>
        <div class="input">
          <input [(ngModel)]="this.candidate.lastName" placeholder="Last Name"/>
        </div>
        <div class="input">
          <input [(ngModel)]="this.candidate.grade" placeholder="Class"/>
        </div>
        <p>Image: </p>
        <div class="input">
          <input type="file" id="imageInput" (change)="onImageChange($event)">
        </div>
        <div class="input">
          <button [disabled]="checkFields()" (click)="createCandidate()">Create Candidate</button>
        </div>
      </div>
    </th>
    <th>
      <div class="upload-container">
        <p>CSV Upload:</p>
        <div class="centered-elements">
          <img src="./assets/img-frontend/upload.png" height=20% width=20%>
          <input type="file" (change)="onFileChange($event)">
          <button [disabled]="!isCsvUploaded" (click)="parseCSV()">Upload</button>
        </div>
      </div>
    </th>
  </tr>
</table>


<div class="candidate-table-container">
  <table class="candidate-table">
    <tr class='header-line'>
      <th>SchoolID</th>
      <th>Name</th>
      <th>Class</th>
      <th></th>
    </tr>
    <tr *ngFor="let candidate of candidates; let i = index"
        [ngClass]="{ 'grey-row': i % 2 === 0, 'white-row': i % 2 !== 0 }">
      <td>{{ candidate.id }}</td>
      <td>{{ candidate.firstName }} {{ candidate.lastName }}</td>
      <td>{{ candidate.grade }}</td>
      <td>
        <button style="background-color: rgba(255,0,0,0)" (click)="confirmDelete(candidate)" class="btn">
          <i class="fa fa-trash fa-2x"></i>
        </button>
      </td>
    </tr>
  </table>
</div>
<div style="color: red" *ngIf="errorMessage">
  {{ errorMessage }}
</div>

<div id="container-floating">
  <div [routerLink]="['/admin', 'overview' ,'candidate-overview']" id="floating-button">
    <img class="reminder" src="./assets/img-frontend/back.png" height="25px" width="25px" alt="picture of candidate"/>
  </div>
</div>
