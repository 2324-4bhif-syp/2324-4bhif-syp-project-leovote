<h2>Results</h2>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">
</script>

<table class="table-result">
  <tr>
    <th>
      <div class="election-selector">
        <h3>Select Election</h3>
        <select [(ngModel)]="selectedElection" required (change)="getResult()">
          <option [defaultSelected]="true" value="" disabled selected hidden>Select Election</option>
          <option (click)="loadEmails()" *ngFor="let election of elections"
                  [ngValue]="election">{{ election.name }}
          </option>
        </select>
      </div>
    </th>
    <th>
      <div class="result-box">
        <div *ngIf="result !== undefined">
          <div class="inside-text" *ngIf="!resultError">
            <div *ngFor="let res of result">
              {{ res.firstname }}
              {{ res.lastname }}: {{ res.percentage }}%
            </div>
          </div>
          <div *ngIf="resultError">
            <p>Error validating Blockchain. Could've been manipulated</p>
          </div>
        </div>
        <div *ngIf="selectedElection === undefined">
          <p>Please select election</p>
        </div>
      </div>
    </th>
  </tr>
</table>

<h1>Pie Chart</h1>

<div id="donutchart"></div>
